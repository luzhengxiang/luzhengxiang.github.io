<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[python 基础梳理]]></title>
    <url>%2F2019%2F06%2F17%2Fpython-%E5%9F%BA%E7%A1%80%E6%A2%B3%E7%90%86%2F</url>
    <content type="text"></content>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python学习selenium笔记]]></title>
    <url>%2F2019%2F06%2F13%2Fpython%E4%BD%BF%E7%94%A8selenium%E5%81%9A%E7%88%AC%E8%99%AB%2F</url>
    <content type="text"><![CDATA[前言Selenium是一个浏览器自动化操作框架。可以模拟用户操作。这样我们就可以用selenium做很多事情了，测试自动化，爬虫。这里我接触和学习selenium也是使用来作为爬虫。 安装1pip install selenium 同时还需要在你的电脑上安装浏览器驱动。安装你本机浏览器对应版本的浏览器驱动。Chromedriver: http://npm.taobao.org/mirrors/chromedriver/ 具体操作控制浏览器操作的一些方法123456789101112set_window_size() 设置浏览器的大小back() 控制浏览器后退forward() 控制浏览器前进refresh() 刷新当前页面clear() 清除文本send_keys (value) 模拟按键输入click() 单击元素submit() 用于提交表单get_attribute(name) 获取元素属性值is_displayed() 设置该元素是否用户可见size 返回元素的尺寸text 获取元素的文本 鼠标事件12345678ActionChains(driver) 构造ActionChains对象context_click() 执行鼠标悬停操作move_to_element(above) 右击double_click() 双击drag_and_drop() 拖动move_to_element(above) 执行鼠标悬停操作context_click() 用于模拟鼠标右键操作， 在调用时需要指定元素定位perform() 执行所有 ActionChains 中存储的行为，可以理解成是对整个操作的提交动作 键盘事件123456789101112常用键盘操作send_keys(Keys.BACK_SPACE) 删除键（BackSpace）send_keys(Keys.SPACE) 空格键(Space)send_keys(Keys.TAB) 制表键(Tab)send_keys(Keys.ESCAPE) 回退键（Esc）send_keys(Keys.ENTER) 回车键（Enter）组合键盘操作send_keys(Keys.CONTROL,‘a’) 全选（Ctrl+A）send_keys(Keys.CONTROL,‘c’) 复制（Ctrl+C）send_keys(Keys.CONTROL,‘x’) 剪切（Ctrl+X）send_keys(Keys.CONTROL,‘v’) 粘贴（Ctrl+V）send_keys(Keys.F1…Fn) 键盘 F1…Fn 定位一组元素 定位一个元素 定位多个元素 含义 find_element_by_id find_elements_by_id 通过元素id定位 find_element_by_name find_elements_by_name 通过元素name定位 find_element_by_xpath find_elements_by_xpath 通过xpath表达式定位 find_element_by_link_text find_elements_by_link_tex 通过完整超链接定位 find_element_by_partial_link_text find_elements_by_partial_link_text 通过部分链接定位 find_element_by_tag_name find_elements_by_tag_name 通过标签定位 find_element_by_class_name find_elements_by_class_name 通过类名进行定位 find_elements_by_css_selector find_elements_by_css_selector 通过css选择器进行定位 示例代码url截图 12345678910111213141516171819202122from selenium import webdriverimport timebrowser = webdriver.Firefox()browser.execute_script('window.scrollTo(0, document.body.scrollHeight)')time.sleep(5)liuyan_list = browser.find_elements_by_xpath('//*[@id="j-comment-section"]/div/div[3]/div/ul[3]/li')#获取用户留言liuyan_content = liuyan_list[0].find_element_by_class_name('shiyongxinde.oh')print(liuyan_content.text)liuyan_shijian = liuyan_list[0].find_element_by_class_name('info-time').find_element_by_tag_name('a').text#获取留言时间print(liuyan_shijian)liuyan_id = liuyan_list[0].find_element_by_class_name('woZanTong').get_attribute('appraiseid')#获取留言idprint(liuyan_id)nick_name = liuyan_list[0].find_element_by_class_name('reply_avatar_userName').text#获取昵称print(nick_name) 多窗口切换在页面操作过程中有时候点击某个链接会弹出新的窗口，这时就需要主机切换到新打开的窗口上进行操作。WebDriver提供了switch_to.window()方法，可以实现在不同的窗口之间切换。 1234current_window_handle 获得当前窗口句柄window_handles 返回所有窗口的句柄到当前会话switch_to.window() 用于切换到相应的窗口，与上一节的switch_to.frame()类似，前者用于不同窗口的切换，后者用于不同表单之间的切换。 调用JavaScript代码虽然WebDriver提供了操作浏览器的前进和后退方法，但对于浏览器滚动条并没有提供相应的操作方法。在这种情况下，就可以借助JavaScript来控制浏览器的滚动条。WebDriver提供了execute_script()方法来执行JavaScript代码。 12直接翻到当前页面的页尾browser.execute_script('window.scrollTo(0, document.body.scrollHeight)') cookie操作12345get_cookies() 获得所有cookie信息get_cookie(name) 返回字典的key为“name”的cookie信息add_cookie(cookie_dict) 添加cookie。“cookie_dict”指字典对象，必须有name 和value 值delete_cookie(name,optionsString) 删除cookie信息。“name”是要删除的cookie的名称，“optionsString”是该cookie的选项，目前支持的选项包括“路径”，“域”delete_all_cookies() 删除所有cookie信息 关闭浏览器123close() 关闭单个窗口quit() 关闭所有窗口 可能遇到的坑页面加载慢因为sulenium是代码控制浏览器操作，代码执行很快，浏览器执行很慢，经常发生代码执行到这里，但是页面资源没有加载完的情况。所以需要 time.sleep(5) 让程序等待几秒钟。 莫名其妙的异常我代码写的很开心，执行一下突然报错。。。就是那种明明上一次启动还正常，可能写了一行注释回来执行就报错了。。。让我不知所措，最后是restart大法好。重启就好了，我没有找到发生的具体原因，目前是出现就重启。。。 123456789/Users/luzhengxiang/anaconda3/envs/my_spider/bin/python /Users/luzhengxiang/PycharmProjects/autoSign/spiders/selenium_test/gome/guomei_selenium.pyTraceback (most recent call last): File "/Users/luzhengxiang/PycharmProjects/autoSign/spiders/selenium_test/gome/guomei_selenium.py", line 10, in &lt;module&gt; browser = webdriver.Chrome(); File "/Users/luzhengxiang/anaconda3/envs/my_spider/lib/python3.7/site-packages/selenium/webdriver/chrome/webdriver.py", line 73, in __init__ self.service.start() File "/Users/luzhengxiang/anaconda3/envs/my_spider/lib/python3.7/site-packages/selenium/webdriver/common/service.py", line 104, in start raise WebDriverException("Can not connect to the Service %s" % self.path)selenium.common.exceptions.WebDriverException: Message: Can not connect to the Service chromedriver 参考链接：https://blog.csdn.net/weixin_36279318/article/details/79475388]]></content>
      <tags>
        <tag>python</tag>
        <tag>selenium</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[linux 常用命令]]></title>
    <url>%2F2019%2F06%2F12%2Flinux-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[工作中常用的命令记录查询12345678910111213141516171819202122lsof -i:端口号 查看端口被什么进程占用netstat -tunlp 查看端口使用情况。ps -ef|grep xxx 查询xxx的进程使用情况文件中根据关键字搜索Cat filename | grep XXX |grep XXX例如：cat zhang8online3.0.log |grep 50641658625520文件中根据关键字统计行数场景：查询接口调用次数cat localhost_access_log.2018-06-06.txt |grep getverifycode |wc -l例如：cat localhost_access_log.2018-06-07.txt |grep getverifycode |wc -l查询中使用正则匹配场景：查询耗时长的接口。cat zhang8online3.0.log | grep -E "耗时：[0-9]&#123;4,&#125;"df -h 查询 磁盘使用情况 操作命令12345678910111213往文件中写值，覆盖文件内容。在不删除文件的情况下清空文件内容echo "" &gt; ZH8.online.trade.logchmod 777 文件名 文件给权限解压tar包tar -xvf file.tar //解压 tar包tar -xzvf file.tar.gz //解压tar.gztar -xjvf file.tar.bz2 //解压 tar.bz2tar -xZvf file.tar.Z //解压tar.Zunrar e file.rar //解压rarunzip file.zip //解压zip]]></content>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[我的第一篇博客]]></title>
    <url>%2F2019%2F06%2F11%2F%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2%2F</url>
    <content type="text"><![CDATA[热烈庆祝拖延症晚期的陆大大终于搭建了自己的个人博客啦看到很多人都有自己的博客，记录生活中的点点滴滴，记录自己的喜怒哀乐，记录学习的新技术，记录工作中踩的坑。弄一个自己的博客玩玩的想法在我心里其实很久了，但是直到今天，都2019年了，我才真的肯花点心思来弄，我的这个拖延症呀，我是真的都佩服我自己。不过有句话怎么说的呢，觉得为时已晚的时候，恰恰是是最早的时候。。。。 自我介绍一下我是90狮子座的沪漂程序猿，喜欢唱，跳，篮球……不对不对不对，跑偏了，哈哈哈。我的主要技术方向是java，但是现在公司业务需要整合了几条业务线，我负责的项目都交接给了别的同事，现在的我挺迷茫的，公司的安排是我们组作为后背力量，准备应对可能出现的其它项目，然后整理公司的数据。参与数据的开发，（个人感觉我真的是在在失业的边缘徘徊。。。）所以我现在是什么都会去涉及一点，nodejs，python，elk，因为接触时间补偿，目前都涉入不深。 2012-9月份 - 2019年6月我还记得我是2012年的9月份来的上海，到现在已经7年了，我的妈呀，时间是真的可怕。我一点也不想承认我已经26岁，已经在脱发和被家人逼婚的路上越走越走越远。每天上班下班的日子其实说不上辛苦，但是真的觉得少了很多激情，我也已经不像以前刚工作那会，有干劲到可以连续上班一个月，天天11，2点下班还乐此不疲，觉得这就是奋斗，这是年轻人应该过的生活。人总是想着自己没有的，然后容易忽略掉自己拥有的东西，很显然我就是这一类人的代表了。总是很容易患得患失。其实都是给作的。 最后当然是总结陈词啦虽然自己挺多不好，但是还是不影响我是一个很阳光的宝藏男孩啦。以后我就要多写文章和技术博客来记录我的学习历程，和知识难点。好记性不如烂博客。然后就是多写文章来记录生活重的点点滴滴啦。]]></content>
      <tags>
        <tag>心情杂记</tag>
      </tags>
  </entry>
</search>
